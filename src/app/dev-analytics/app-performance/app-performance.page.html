<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>App Performance</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <h2>Load Time Metrics</h2>

  <ion-card *ngIf="sessionInfo">
    <ion-card-header>
      <ion-card-title>Session Info</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p><strong>User ID:</strong> {{ sessionInfo.uid }}</p>
      <p><strong>Platform:</strong> {{ sessionInfo.platform }}</p>
      <p><strong>User Agent:</strong> {{ sessionInfo.userAgent }}</p>
      <p><strong>Timestamp:</strong> {{ sessionInfo.timestamp | date: 'medium' }}</p>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Average Load Time</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      {{ averageLoadTime.toFixed(2) }} seconds
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>All Recorded Load Times</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-item *ngFor="let time of appLoadTimes; let i = index">
          <ion-label>Run {{ i + 1 }}: {{ time }} seconds</ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>

  <button (click)="addTestLoadTime()">Test Native Button Click</button>

  <ion-card class="ion-margin-top">
    <ion-card-header>
      <ion-card-title>Chart: Load Time Bar & Line View</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <canvas id="barChart"></canvas>
      <canvas id="lineChart" class="ion-margin-top"></canvas>
    </ion-card-content>
  </ion-card>
</ion-content>